import{S as b,i as l,a as u}from"./assets/vendor-89feecc5.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const d of e.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerpolicy&&(e.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?e.credentials="include":r.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(r){if(r.ep)return;r.ep=!0;const e=t(r);fetch(r.href,e)}})();const y="41734083-bc7e7acddd543bb8e35e20b9d",L=document.getElementById("search-form"),E=document.getElementById("search-input"),i=document.getElementById("gallery"),s=document.getElementById("loader"),g=document.getElementById("load-more-btn"),v=new b(".gallery a",{captionsData:"alt",captionDelay:250});let f=1,p="",m=0,h=0;L.addEventListener("submit",async n=>{n.preventDefault();const o=E.value.trim();if(!o){l.error({title:"Error",message:"Please enter a search query.",position:"topRight"});return}p=o,s.style.display="block";try{const a=(await u.get("https://pixabay.com/api/",{params:{key:y,q:p,image_type:"photo",orientation:"horizontal",safesearch:!0,page:f,per_page:40}})).data;if(a.hits&&a.hits.length>0){m=a.totalHits;const r=a.hits.map(e=>({url:e.webformatURL,alt:e.tags,largeUrl:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}));i.children.length===0&&(h=i.appendChild(k(r[0])).getBoundingClientRect().height,i.innerHTML=""),w(r)}else l.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})}catch(t){console.error("Error fetching data:",t),l.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{s.style.display="none",c()}});g.addEventListener("click",async()=>{s.textContent="Loading images, please wait...";try{const o=(await u.get("https://pixabay.com/api/",{params:{key:y,q:p,image_type:"photo",orientation:"horizontal",safesearch:!0,page:f,per_page:40}})).data;if(o.hits&&o.hits.length>0){m=o.totalHits;const t=o.hits.map(a=>({url:a.webformatURL,alt:a.tags,largeUrl:a.largeImageURL,likes:a.likes,views:a.views,comments:a.comments,downloads:a.downloads}));w(t)}else l.info({title:"Info",message:"No more images to load.",position:"topRight"})}catch(n){console.error("Error fetching data:",n),l.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{s.style.display="none",c()}s.textContent="",s.style.display="none",c(),window.scrollBy({top:h*2,behavior:"smooth"})});function w(n){const o=n.map(t=>`
        <a href="${t.largeUrl}" data-lightbox="gallery" data-title="Likes: ${t.likes}, Views: ${t.views}, Comments: ${t.comments}, Downloads: ${t.downloads}">
          <img src="${t.url}" alt="${t.alt}" />
        </a>
      `).join("");i.innerHTML+=o,v.refresh(),c()}function c(){m>i.children.length?g.style.display="block":(g.style.display="none",i.children.length>0&&l.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}function k(n){const o=document.createElement("div");o.classList.add("gallery-card");const t=document.createElement("img");return t.src=n.url,t.alt=n.alt,o.appendChild(t),o}
//# sourceMappingURL=commonHelpers.js.map
