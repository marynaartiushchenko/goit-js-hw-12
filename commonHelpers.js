import{S as b,i,a as y}from"./assets/vendor-89feecc5.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function e(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=e(t);fetch(t.href,a)}})();const f="41734083-bc7e7acddd543bb8e35e20b9d",L=document.getElementById("search-form"),E=document.getElementById("search-input"),c=document.getElementById("gallery"),l=document.getElementById("loader"),d=document.getElementById("load-more-btn"),v=new b(".gallery a",{captionsData:"alt",captionDelay:250});let g=1,m="",p=0,h=0;L.addEventListener("submit",async s=>{s.preventDefault(),c.innerHTML="";const o=E.value.trim();if(!o){i.error({title:"Error",message:"Please enter a search query.",position:"topRight"});return}g=1,m=o,l.style.display="block",l.textContent="Loading images, please wait...";try{const r=(await y.get("https://pixabay.com/api/",{params:{key:f,q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:g,per_page:40}})).data;if(r.hits&&r.hits.length>0){p=r.totalHits;const t=r.hits.map(n=>({url:n.webformatURL,alt:n.tags,largeUrl:n.largeImageURL,likes:n.likes,views:n.views,comments:n.comments,downloads:n.downloads}));d.style.display="none";const a=k(t[0]);c.appendChild(a),h=a.getBoundingClientRect().height,w(t)}else i.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})}catch(e){console.error("Error fetching data:",e),i.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{l.textContent="",l.style.display="none",u()}});d.addEventListener("click",async()=>{l.textContent="Loading more images, please wait...",l.style.display="block";try{const o=(await y.get("https://pixabay.com/api/",{params:{key:f,q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:g,per_page:40}})).data;if(o.hits&&o.hits.length>0){p=o.totalHits;const e=o.hits.map(r=>({url:r.webformatURL,alt:r.tags,largeUrl:r.largeImageURL,likes:r.likes,views:r.views,comments:r.comments,downloads:r.downloads}));w(e)}else i.info({title:"Info",message:"No more images to load.",position:"topRight"})}catch(s){console.error("Error fetching data:",s),i.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{l.textContent="",l.style.display="none",window.scrollBy({top:h*2,behavior:"smooth"}),u()}});function w(s){const o=s.map(e=>`
        <a href="${e.largeUrl}" data-lightbox="gallery" data-title="Likes: ${e.likes}, Views: ${e.views}, Comments: ${e.comments}, Downloads: ${e.downloads}">
          <img src="${e.url}" alt="${e.alt}" />
        </a>
      `).join("");c.insertAdjacentHTML("beforeend",o),v.refresh(),u()}function u(){p>c.children.length?d.style.display="block":(d.style.display="none",c.children.length>0&&g>1&&p===c.children.length&&i.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}function k(s){const o=document.createElement("div");o.classList.add("gallery-card");const e=document.createElement("img");return e.src=s.url,e.alt=s.alt,o.appendChild(e),o}
//# sourceMappingURL=commonHelpers.js.map
